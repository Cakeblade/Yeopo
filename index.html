<!DOCTYPE html>
<html>
	<head>
		<title>직할중대 현황판</title>
		<meta charset='UTF-8'>
		<link rel='stylesheet' href='css/style.css'>
		<link rel='stylesheet' href='css/index.css'>
		<script language='javascript' src='js/jquery-3.6.0.js'></script>
		<script language='javascript' src='js/class.js'></script>
		<script language='javascript' src='data/people.js'></script>
		<script language='javascript' src='data/sig.js'></script>
		<script>
			function onPrint() {
				const html = document.querySelector('html');
				const printContents = document.querySelector('.print').innerHTML;
				const printDiv = document.createElement('div');
				printDiv.className = 'print-div';
				 
				html.appendChild(printDiv);
				printDiv.innerHTML = printContents;
				document.body.style.display = 'none';
				window.print();
				document.body.style.display = 'block';
				printDiv.style.display = 'none';
			}
		</script>
	</head>
	<body>
	
		<!-- Top container -->
		<div class='bar top' style='z-index:4' font-size='18px'>
			<h3>
				<span>XXX여단 본부 직할중대 현황판</span>
				<span id='printClock'>printClock</span>
				<script>
					var Target = document.getElementById('printClock');
					function printClock()
					{
						var time = new Date();
						var month = time.getMonth();
						var date = time.getDate();
						var hours = time.getHours();
						var minutes = time.getMinutes();
						var seconds = time.getSeconds();
						if(hours < 12) {apm = 'AM';}
						else {apm = 'PM';}
						Target.innerText = `${month + 1}월 ${date}일 ` + `${hours < 10 ? `0${hours}` : hours}:${minutes < 10 ? `0${minutes}` : minutes}:${seconds < 10 ? `0${seconds}` : seconds}`;
					}
					printClock();
					setInterval(printClock, 1000);
				</script>
			</h3>
			
		</div>

		<!-- Sidebar/menu -->
		<nav class='sidebar' style='z-index:3;width:300px;' id='mySidebar'><br>
  			<div class='barBlock'>
   				<a href='index.html' class='barItem button'> 현황판</a>
				<a href='company_base.html' class='barItem button'> XX중대</a>
				<a href='company_base.html' class='barItem button'> XX중대</a>
   				<a href='company_base.html' class='barItem button'> XX중대</a>
				<a href='company_base.html' class='barItem button'> XX중대</a>
				<a href='company_base.html' class='barItem button'> XX중대</a>
				<a href='company_base.html' class='barItem button'> XX중대</a><br><br>
  			</div>
		</nav>


		<!-- !PAGE CONTENT! -->
		<div class='main' id='main' style='margin-left:300px;margin-top:68px;'>
			
		<!-- End page content -->
		</div>
		
		<script>
			var asdf;
			var str;
			str = "<div class='print' id='print'>";
			str += "<table class='allhands'><tr><td>총원</td><td>" + "123" + "</td><td>열외</td><td>" + "345" + "</td><td>현재원</td><td>" + "567" + "</td></tr></table>";
			function printCompany(_com, _flag) {
				let numRoom;
				let colspan;
				let data = sig.returnTwoDimArray();

				switch (_flag){ // 중대별 인원 출력
					case 1: // 생활관 1개
						str += "<table class='company'>\
								<tr>";
						str += "<td colspan='6'>" + "asdf" + "</td>\
							</tr>\
							<tr>\
								<td colspan='2'>총원</td>\
								<td colspan='2'>열외</td>\
								<td colspan='2'>현재원</td>\
							</tr>\
							<tr>\
								<td colspan='2'>";
						str += "123";
						str += "</td><td colspan='2'>";
						str += "456";
						str += "</td><td colspan='2'>";
						str += "789";
						str += "</td>\
							</tr>\
							<tr>\
								<td colspan='6'>1생활관</td>\
							</tr>";
						numRoom = 1;
						colspan = 3;
						for(let i = 0; i < 10; i++){ // 이름과 현 위치를 출력하는 반복문, 자리가 없어도 10번은 무조건 만들어지게 함.
							str += "<tr>";
							if(i<5){
								for (let j = 0; j < numRoom ; j++) {
								str += "<td colspan='"+ colspan +"'>김김김</td>\
										<td colspan='"+ colspan +"'>집가고싶다</td>";
								}
							}
							else{
								for (let j = 0; j < numRoom ; j++) {
								str += "<td colspan='"+ colspan +"'></td>\
										<td colspan='"+ colspan +"'></td>";
								}
							}
							str += "</tr>";
						}
						break;
					case 2: // 생활관 2개
						str += "<table class='company'>\
								<tr>";
						str += "<td colspan='8'>" + "asdf" + "</td>\
							</tr>\
							<tr>\
								<td colspan='3'>총원</td>\
								<td colspan='3'>열외</td>\
								<td colspan='2'>현재원</td>\
							</tr>\
							<tr>\
								<td colspan='3'>";
						str += "123";
						str += "</td><td colspan='3'>";
						str += "456";
						str += "</td><td colspan='2'>";
						str += "789";
						str += "</td>\
							</tr>\
							<tr>\
								<td colspan='4'>1생활관</td>\
								<td colspan='4'>2생활관</td>\
							</tr>";
						numRoom = 2;
						colspan = 2;
						for(let i = 0; i < 10; i++){ // 이름과 현 위치를 출력하는 반복문, 자리가 없어도 10번은 무조건 만들어지게 함.
							str += "<tr>";
							if(i<5){
								for (let j = 0; j < numRoom ; j++) {
								str += "<td colspan='"+ colspan +"'>김김김</td>\
										<td colspan='"+ colspan +"'>생활관</td>";
								}
							}
							else{
								for (let j = 0; j < numRoom ; j++) {
								str += "<td colspan='"+ colspan +"'></td>\
										<td colspan='"+ colspan +"'></td>";
								}
							}
							str += "</tr>";
						}
						break;
					case 3: // 생활관 3개
						str += "<table class='company'>\
								<tr>";
						str += "<td colspan='6'>" + _com.getName() + "</td>\
							</tr>\
							<tr>\
								<td colspan='2'>총원</td>\
								<td colspan='2'>열외</td>\
								<td colspan='2'>현재원</td>\
							</tr>\
							<tr>\
								<td colspan='2'>";
						str += _com.getWarrior();
						str += "</td><td colspan='2'>";
						str += _com.getOutdoorsMans();
						str += "</td><td colspan='2'>";
						str += _com.getRemainPerson();
						str += "</td>\
							</tr>\
							<tr>\
								<td colspan='2'>1생활관</td>\
								<td colspan='2'>2생활관</td>\
								<td colspan='2'>3생활관</td>\
							</tr>";
						numRoom = 3;
						colspan = 1;
						for(let i = 0; i < 10; i++){ // 이름과 현 위치를 출력하는 반복문, 자리가 없어도 10번은 무조건 만들어지게 함.
							str += "<tr>";
							for (let j = 0; j < numRoom * 2 ; j++) {
								if(j % 2 == 0) str += "<td colspan='" + colspan + "'>" + data[j][i] + "</td>";
								else str += "<td colspan='" + colspan + "'>" + data[j][i] + "</td>";
							}
							str += "</tr>";
						}
						break;
					case 4: // 생활관 4개
						str += "<table class='company'>\
								<tr>";
						str += "<td colspan='8'>" + /*_com.getName()*/"XX중대" + "</td>\
							</tr>\
							<tr>\
								<td colspan='3'>총원</td>\
								<td colspan='3'>열외</td>\
								<td colspan='2'>현재원</td>\
							</tr>\
							<tr>\
								<td colspan='3'>";
						str += _com.getWarrior();
						str += "</td><td colspan='3'>";
						str += _com.getOutdoorsMans();
						str += "</td><td colspan='2'>";
						str += _com.getRemainPerson();
						str += "</td>\
							</tr>\
							<tr>\
								<td colspan='2'>1생활관</td>\
								<td colspan='2'>2생활관</td>\
								<td colspan='2'>3생활관</td>\
								<td colspan='2'>4생활관</td>\
							</tr>";
						numRoom = 4;
						colspan = 1;
						data = c2.returnTwoDimArray();
						for(let i = 0; i < 10; i++){ // 이름과 현 위치를 출력하는 반복문, 자리가 없어도 10번은 무조건 만들어지게 함.
							str += "<tr>";
							for (let j = 0; j < numRoom * 2 ; j++) {
								if(j % 2 == 0) str += "<td colspan='" + colspan + "'>" + data[j][i] + "</td>";
								else str += "<td colspan='" + colspan + "'>" + data[j][i] + "</td>";
							}
							str += "</tr>";
						}
						break;
					case 8: // 생활관 8개
						str += "<table class='company'>\
								<tr>";
						str += "<td colspan='16'>" + /*_com.getName()*/"XX중대" + "</td>\
							</tr>\
							<tr>\
								<td colspan='5'>총원</td>\
								<td colspan='5'>열외</td>\
								<td colspan='6'>현재원</td>\
							</tr>\
							<tr>\
								<td colspan='5'>";
						str += "123";
						str += "</td><td colspan='5'>";
						str += "345";
						str += "</td><td colspan='6'>";
						str += "567";
						str += "</td>\
							</tr>\
							<tr>\
								<td colspan='2'>1생활관</td>\
								<td colspan='2'>2생활관</td>\
								<td colspan='2'>3생활관</td>\
								<td colspan='2'>4생활관</td>\
								<td colspan='2'>5생활관</td>\
								<td colspan='2'>6생활관</td>\
								<td colspan='2'>7생활관</td>\
								<td colspan='2'>8생활관</td>\
							</tr>";
						numRoom = 8
						colspan = 1;
						for(let i = 0; i < 10; i++){ // 이름과 현 위치를 출력하는 반복문, 자리가 없어도 10번은 무조건 만들어지게 함.
							str += "<tr>";
							if(i<5){
								for (let j = 0; j < numRoom ; j++) {
								str += "<td colspan='"+ colspan +"'>김김김</td>\
										<td colspan='"+ colspan +"'>생활관</td>";
								}
							}
							else{
								for (let j = 0; j < numRoom ; j++) {
								str += "<td colspan='"+ colspan +"'></td>\
										<td colspan='"+ colspan +"'></td>";
								}
							}
							str += "</tr>";
						}
						break;
					default:
						str += "error!";
						break;
				}
				
				str += "</table>"
			}
			str += "<table class='bulletin'>";
			str += "<tr>";
			str += "<td>";
			str += "<div id='room3'>";
			printCompany(sig, 3);
			str += "</div>";
			str += "<div id='room3'>";
			printCompany(sig, 3);
			str += "</div>";
			str += "<div id='room4'>";
			printCompany(c2, 4);
			str += "</div>";
			str += "<div id='room1'>";
			printCompany(asdf, 1);
			str += "</div>\
					</td>";
			str += "</tr>";
			str += "<tr>";
			str += "<td>";
			str += "<div id='room8'>";
			printCompany(asdf, 8);
			str += "</div>";
			str += "<div id='room2'>";
			printCompany(asdf, 2);
			str += "</div>";
			str += "</td>";
			str += "</tr>\
				</table>\
			</div>";
			str += "<button class='print' onclick='onPrint()'> 인쇄하기 </button>"
			document.getElementById('main').innerHTML = str;
		</script>

	</body>
</html>