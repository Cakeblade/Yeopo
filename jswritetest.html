<!DOCTYPE html>
<html>
	<!-- base of page layout -->
	<head>
		<title>직할중대 현황판</title>
		<meta charset='UTF-8'>
		<meta name='viewport' content='width=device-width, initial-scale=1'>
		<script language='javascript' src='linuxclass.js'></script>
		<script language='javascript' src='outdoor.js'></script>
		<script language='javascript' src='fio.js'></script>
		<script language='javascript' src='data/sig.js'></script>
		<script>
			function onPrint() {
				const html = document.querySelector('html');
				const printContents = document.querySelector('.main').innerHTML;
				const printDiv = document.createElement('div');
				printDiv.className = 'print-div';
				 
				html.appendChild(printDiv);
				printDiv.innerHTML = printContents;
				document.body.style.display = 'none';
				window.print();
				document.body.style.display = 'block';
				printDiv.style.display = 'none';
			}
			
			
		</script>
	</head>
	<body>
		<input type="file" onchange="loadFile(this.files[0])">
		<br>
		<pre id="output"></pre>
		<script>
			async function loadFile(file) {
				var text = await file.text();
				document.getElementById('output').textContent = text;
			}
			
			saveToFile_Chrome("asdf.js", text);
			
			function saveToFile_Chrome(fileName, content) {
				var blob = new Blob([content], { type: 'text/plain' });
				objURL = window.URL.createObjectURL(blob);

				// 이전에 생성된 메모리 해제
				if (window.__Xr_objURL_forCreatingFile__) {
					window.URL.revokeObjectURL(window.__Xr_objURL_forCreatingFile__);
				}
				window.__Xr_objURL_forCreatingFile__ = objURL;
				var a = document.createElement('a');
				a.download = fileName;
				a.href = "./data";
				a.click();
			}
		</script>
	</body>
</html>