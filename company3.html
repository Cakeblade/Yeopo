<!DOCTYPE html>
<html>
	<!-- 열외 완성 -->
	<head>
		<title>직할중대 현황판</title>
		<meta charset='UTF-8'>
		<meta name='viewport' content='width=device-width, initial-scale=1'>
		<link rel='stylesheet' href='./style.css'>
		<script language='javascript' src='class.js'></script>
		<script language='javascript' src='outdoor.js'></script>
		<script language='javascript' src='data/people.js'></script>
		<script>
			function onPrint() 
			{
				const html = document.querySelector('html');
				const printContents = document.querySelector('.main').innerHTML;
				const printDiv = document.createElement('div');
				printDiv.className = 'print-div';
				 
				html.appendChild(printDiv);
				printDiv.innerHTML = printContents;
				document.body.style.display = 'none';
				window.print();
				document.body.style.display = 'block';
				printDiv.style.display = 'none';
			}
		</script>
	</head>
	<body>
		<!-- Top container -->
		<div class='bar top' style='z-index:4' font-size='18px'>
			<h3>
				<span>XXX여단 본부 직할중대 현황판</span>
				<span id='printClock'>printClock</span>
				<script>
					var Target = document.getElementById('printClock');
					function printClock() // 시간을 출력하는 함수
					{
						var time = new Date();
						var month = time.getMonth();
						var date = time.getDate();
						var hours = time.getHours();
						var minutes = time.getMinutes();
						var seconds = time.getSeconds();
						if(hours < 12) {apm = 'AM';}
						else {apm = 'PM';}
						Target.innerText = `${month + 1}월 ${date}일 ` + `${hours < 10 ? `0${hours}` : hours}:${minutes < 10 ? `0${minutes}` : minutes}:${seconds < 10 ? `0${seconds}` : seconds}`;
					}
					printClock();
					setInterval(printClock, 1000);
				</script>
			</h3>
			
		</div>

		<!-- Sidebar/menu -->
		<nav class='sidebar' style='z-index:3;width:300px;' id='mySidebar'><br>
  			<div class='barBlock'>
   				<a href='index.html' class='barItem button'> 현황판</a>
				<a href='company1.html' class='barItem button'> XX중대</a>
				<a href='company2.html' class='barItem button'> XX중대</a>
   				<a href='company3.html' class='barItem button'> XX중대</a>
				<a href='#' class='barItem button'> XX중대</a>
				<a href='#' class='barItem button'> XX중대</a>
				<a href='#' class='barItem button'> XX중대</a><br><br>
  			</div>
		</nav>


		<!-- !PAGE CONTENT! -->
		<div class='main' id='main' style='margin-left:300px;margin-top:68px;'>
			<script>
				function asdf() { alert("asdf");}
				function asdff() { alert("asdff");}
				var str;
				var value = new Array();
				// 중대원을 출력하는 부분
				str = "<div id='company_" + sig.getCName() + "'>";
				str += "<table class='singleCompany'><tr><td rowspan='2'>" + sig.getName() + "</td>";
				for(let i = 0; i < sig.getNumDorm(); i++)
				{
					if(i == 0) str += "<td class='roomname'>행정반</td>";
					else str += "<td class='roomname'>" + i + "생활관</td>";
				}
				str += "</tr>";
				str += "<tr>";
				for(let i = 0; i < sig.getNumDorm(); i++)
				{
					let output;
					value = sig.returnList(i);
					str += "<td>";
					for(let j = 0; j < 11; j++)
					{
						if(value[j]) output = value[j].getName();
						else output = " ";
						str += "<div = 'button'>";
						str += "<input type='button' readonly id='company_" + "sig" + "_" + i + "_" + j + "' class='company_people_sig' value='" + output + "'>";
						str += "</div>";
					}
					str += "</td>";
				}
				str += "</tr></div>\
						<div>\
							<table class='asdf'>\
								<tr><td>총원</td></tr>\
								<tr><td>" + sig.getWarrior() + "</td></tr>\
								<tr><td>열외</td></tr>\
								<tr><td>" + sig.getOutdoorsMans() + "</td></tr>\
								<tr><td>현재원</td></tr>\
								<tr><td>" + sig.getRemainPerson() + "</td></tr>\
							</table>\
						</div>";
				document.getElementById('main').innerHTML = str;


				// 열외를 저장하고 출력하는 부분
				document.write("<div id='outdoor'>");
				document.write("<table class='outdoor'>");
				document.write("<tr>");
				for(let i = 0; i < 15; i ++)
				{
					document.write("<td>");
					document.write("<table class='outdoor1'>");
					document.write("<tr>");
					document.write("<td class='outdoor_name' id='outdoor_name_" + i + "_'>");
					//document.write("여기");
					document.write("<input type='button' readonly id='outdoor_name" + i + "' onclick='asdf()' class='outdoor_name' value='여기'>");
					document.write("</td>");
					for(let j = 0; j < 10; j++)
					{
						document.write("<tr>");
						document.write("<td align='center'>");
						document.write("<input type='button' readonly id='outdoor_people_" + i + "_" + j + "' onclick='asdff()' class='outdoor_people' value=''>");
						document.write("</td>");
						document.write("</tr>");
					}
					document.write("</tr>");
					document.write("</table>");
					document.write("</td>");
				}
				document.write("</tr>");
				document.write("</table>");
				document.write("</div>");
				
				// 열외 인원을 선택하는 부분
				document.write("<div id='make_outdoor_add'>");
				document.write("<div id='outdoor_flame_name'");
				for(let i = 0; i < 1; i++)
				{
					document.write("<input type='button' id='outdoor_flame_name_" + i + "' class='outdoor_flame_name' onclick='outdoor_flame_change_class(" + i + ")'>")
					if(i==0)
					{
						document.getElementById("outdoor_flame_name_" + i + "").value = "통신";
					}
				}
				document.write("</div>");
				document.write("<div id='outdoor_flame_class'>")
				for(let i = 0; i < 1; i++)
				{
					let str;
					document.write("<input type='button' onclick='add_all_people_class(" + i + ")' readonly id='outdoor_flame_class_" + i + "' class='outdoor_flame_class'>");
					if(i==0)
					{
						document.getElementById("outdoor_flame_class_" + i + "").value = "행정반";
					}
					else
					{
						str = i;
						str += "생활관";
						document.getElementById("outdoor_flame_class_" + i + "").value = str;
					}
				}
				document.write("</div>");
				
				/*
				document.write("<div id='outdoor'>");
				document.write("</div>");
				document.write("<div id='outdoor1'>");
				for(let i = 0; i < 10; i++)
				{
					document.write("<div id='outdoor_" + i + "' class='outdoor_" + "asdf_" + i + "'>");
					document.write("<input type='button' readonly id='outdoor_name" + i + "' onclick='asdf()' class='outdoor_name_" + "asdf_" + i + "' value='asdf'>");
					document.write("<div id='outdoor_main_block_ " + i + "' class='outdoor_main_block_" + "asdf_" + i + "'>");
					document.write("<div id='outdoor_stack_block_ " + i + "' class='outdoor_stack_block_" + "asdf_" + i + "'>");
					for(let j = 0; j < 12; j++)
					{
						document.write("<input type='button' readonly id='outdoor_people_" + i + "_" + j + "' onclick='asdff()' class='outdoor_people'>" );
						document.getElementById("outdoor_people_" + i + "_" + j).value = " ";
					}
					document.write("</div>");
					document.write("</div>");
					document.write("<input type='text' readonly id='outdoor_popular" + i + "' value='열외수:0' class='out_pop_" + "asdf_" + i + "'>");
					document.write("</div>");
					if(i % 2 == 0)
					{
						document.getElementById("outdoor_name" + i + "").style.backgroundColor = "#d6d9e7";
						document.getElementById("outdoor_name" + i + "").style.color = "#000000";
						document.getElementById("outdoor_name" + i + "").style.borderLeft = "2px solid #d6d9e7";
						document.getElementById("outdoor_name" + i + "").style.borderBottom = "1px solid #2b90d9";
						document.getElementById("outdoor_name" + i + "").style.borderRight = "2px solid #a6d9e7";
						document.getElementById("outdoor_name" + i + "").style.borderTop = "1px solid #d8e9ef";
					}
					else
					{
						document.getElementById("outdoor_name" + i + "").style.backgroundColor = "#d6d9e7";
						document.getElementById("outdoor_name" + i + "").style.color = "#000000";
						document.getElementById("outdoor_name" + i + "").style.borderLeft = "2px solid #d6d9e7";
						document.getElementById("outdoor_name" + i + "").style.borderBottom = "1px solid #2b90d9";
						document.getElementById("outdoor_name" + i + "").style.borderRight = "2px solid #a6d9e7";
						document.getElementById("outdoor_name" + i + "").style.borderTop = "1px solid #d8e9ef";
					}
				}
				document.write("</div>")*/
			</script>
		</div>
		<button class='print' onclick='onPrint()'> 인쇄하기 </button>
	</body>
</html>